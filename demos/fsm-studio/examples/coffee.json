{
  "id": "coffeeMachine",
  "initial": "idle",
  "context": { "cups": 0, "water": 100, "beans": 100 },
  "states": {
    "idle": { "on": { "INSERT_CUP": "cupInserted" } },
    "cupInserted": { "on": { "SELECT_DRINK": "brewing", "REMOVE_CUP": "idle" } },
    "brewing": { "on": { "BREW_COMPLETE": "dispensing", "BREW_ERROR": "error" } },
    "dispensing": { "on": { "DISPENSE_COMPLETE": "ready" } },
    "ready": { "on": { "TAKE_CUP": "idle", "ADD_MILK": "addingMilk" } },
    "addingMilk": { "on": { "MILK_ADDED": "ready" } },
    "error": { "on": { "RESET": "idle", "RETRY": "brewing" } }
  }
}
